"use strict";(self.webpackChunkHoots=self.webpackChunkHoots||[]).push([[534],{4534:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});r(2791);var n,a=r(364),s=r(315),i=r(7326),o=r(1766),c=r(6444).ZP.div(n||(n=(0,o.Z)(["\n    padding: 15px;\n    border-bottom: "," ;\n"])),(function(e){return"10px solid ".concat(e.border)})),d=r(5226),l=r(3329),u=function(){var e=(0,a.v9)((function(e){return e.profile.user.id})),t=(0,a.v9)((function(e){return e.theme}));return(0,l.jsxs)(d.V7,{border:t.border,children:[(0,l.jsx)(d.h4,{border:t.border,bg:t.bg,color:t.color,children:(0,l.jsx)("h2",{children:"Home"})}),(0,l.jsx)(c,{border:t.border,children:(0,l.jsx)(s.Z,{rows:3})}),(0,l.jsx)(i.Z,{url:"".concat("http://localhost:5000","/feed?userId=").concat(e),feed:!0})]})}},315:function(e,t,r){var n=r(4165),a=r(5861),s=r(885),i=r(2791),o=r(364),c=r(4569),d=r.n(c),l=r(533),u=r(9586),h=r(9417),f=r(5122),x=r(3329);t.Z=function(e){var t=(0,i.useState)(""),r=(0,s.Z)(t,2),c=r[0],p=r[1],v=(0,i.useState)(!0),w=(0,s.Z)(v,2),m=w[0],g=w[1],j=(0,i.useState)({image:"",video:"",media:null}),b=(0,s.Z)(j,2),y=b[0],Z=b[1],k=(0,o.v9)((function(e){return e.profile.user})),C=(0,o.v9)((function(e){return e.theme})),T=(0,o.I0)(),I=e.handleClose,D=e.rows,S=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),(t=new FormData).append("userId",k.id),t.append("text",c),y.media&&t.append("media",y.media),(y.image||y.video)&&t.append("resource_type",y.image?"image":"video"),e.next=8,d().post("".concat("http://localhost:5000","/tweet/add-tweet"),t);case 8:e.sent,g(!1),p(""),Z({image:"",video:"",media:null}),(0,l.Am)("Your tweet was sent"),T({type:f.i3}),I&&I();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(h.kC,{bg:C.bg,color:C.color,children:[(0,x.jsx)("div",{children:(0,x.jsx)("img",{src:k.avatar,width:"49px",height:"49px",style:{borderRadius:"50%"}})}),(0,x.jsxs)("div",{style:{width:"100%"},children:[(0,x.jsx)("textarea",{rows:D||5,placeholder:"What's happening?",value:c,onChange:function(e){p(e.target.value),e.target.value?g(!1):g(!0)}}),(0,x.jsxs)("div",{style:{marginBottom:"10px"},children:[y.image&&(0,x.jsx)("img",{src:y.image,style:{width:"100%"}}),y.video&&(0,x.jsx)("video",{src:y.video,style:{width:"100%"},controls:!0})]}),(0,x.jsxs)(h.kC,{style:{alignItems:"center",justifyContent:"flex-end"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"photo",children:(0,x.jsx)(u.Z,{})}),(0,x.jsx)("input",{type:"file",id:"photo",name:"photo",accept:"image/*,video/*",onChange:function(e){var t=e.target.files[0],r=new FileReader,n=t.type.includes("image");r.onloadend=function(){Z(n?{image:r.result,video:"",media:t}:{image:"",video:r.result,media:t})}},style:{display:"none"}})]}),(0,x.jsx)("div",{children:(0,x.jsx)(h.zx,{onClick:S,disabled:m,defaultBg:C.defaultBg,darkBg:C.darkBg,children:"Tweet"})})]})]})]})})}},7326:function(e,t,r){r.d(t,{Z:function(){return I}});var n=r(4942),a=r(1413),s=r(2982),i=r(4165),o=r(5861),c=r(885),d=r(2791),l=r(4569),u=r.n(l),h=r(4880),f=r(1523),x=r(364),p=r(4020),v=r(261),w=r(5226),m=r(3329),g="http://localhost:5000",j=function(e){var t=(0,d.useState)(!1),r=(0,c.Z)(t,2),n=r[0],a=r[1],s=(0,x.v9)((function(e){return e.profile.user.token})),l=e.tweets,h=e.tweet,f=e.idx,j=e.updateDetails,b=e.myId,y=e.getData,Z=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a(!0),!l[r].selfLiked){e.next=16;break}return e.prev=3,e.next=6,u().delete("".concat(g,"/tweet/like/remove"),{data:{userId:b,tweetId:l[r]["Tweets.id"]}});case 6:j(r,[["selfLiked",!1],["Tweets.likesCount",l[r]["Tweets.likesCount"]-1]]),y&&y(),a(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),a(!1);case 14:e.next=26;break;case 16:return e.prev=16,e.next=19,u().post("".concat(g,"/tweet/like/add"),{userId:b,tweetId:l[r]["Tweets.id"]},{headers:{Authorization:"Bearer ".concat(s)}});case 19:j(r,[["selfLiked",!0],["Tweets.likesCount",l[r]["Tweets.likesCount"]+1]]),a(!1),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(16),a(!1);case 26:case"end":return e.stop()}}),e,null,[[3,11],[16,23]])})));return function(t,r){return e.apply(this,arguments)}}();return(0,m.jsxs)(w._I,{onClick:function(e){return Z(e,f)},disabled:n,hoverColor:"rgb(224,36,94)",hoverBg:"rgba(224,36,94,0.1)",children:[(0,m.jsx)(w.AH,{children:(0,m.jsx)(p.Z,{d:["M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z"],width:"18.75px",height:"18.75px",fill:h.selfLiked?"rgb(224, 36, 94)":"rgb(101, 119, 134)"})}),(0,m.jsx)(v.xv,{color:h.selfLiked?"rgb(224, 36, 94)":"rgb(101, 119, 134)",children:h["Tweets.likesCount"]})]})},b=["M14.046 2.242l-4.148-.01h-.002c-4.374 0-7.8 3.427-7.8 7.802 0 4.098 3.186 7.206 7.465 7.37v3.828c0 .108.044.286.12.403.142.225.384.347.632.347.138 0 .277-.038.402-.118.264-.168 6.473-4.14 8.088-5.506 1.902-1.61 3.04-3.97 3.043-6.312v-.017c-.006-4.367-3.43-7.787-7.8-7.788zm3.787 12.972c-1.134.96-4.862 3.405-6.772 4.643V16.67c0-.414-.335-.75-.75-.75h-.396c-3.66 0-6.318-2.476-6.318-5.886 0-3.534 2.768-6.302 6.3-6.302l4.147.01h.002c3.532 0 6.3 2.766 6.302 6.296-.003 1.91-.942 3.844-2.514 5.176z"],y=function(e){e.tweets;var t=e.tweet,r=(e.idx,e.updateDetails,e.myId,e.getData,e.onClick);return(0,m.jsxs)(w._I,{hoverColor:"rgb(29,161,242)",hoverBg:"rgba(29,161,242,0.1)",onClick:r,children:[(0,m.jsx)(w.AH,{children:(0,m.jsx)(p.Z,{d:b,width:"18.75px",height:"18.75px",fill:"rgb(101, 119, 134)"})}),(0,m.jsx)(v.xv,{color:"rgb(101, 119, 134)",children:t["Tweets.commentsCount"]})]})},Z=r(294),k=r(5695),C=r(3182),T=r(505),I=function(e){var t=(0,d.useState)(null),r=(0,c.Z)(t,2),l=r[0],p=r[1],w=(0,d.useState)(!1),g=(0,c.Z)(w,2),b=g[0],I=g[1],D=(0,d.useState)(null),S=(0,c.Z)(D,2),B=S[0],F=S[1],H=(0,h.UO)().username,A=(0,x.v9)((function(e){return e.profile.user})).id,L=(0,x.v9)((function(e){return e.update.refresh})),z=(0,x.v9)((function(e){return e.theme})),Y=e.url,O=e.dataKey,U=e.header,W=e.handleHeaderText,_=e.feed;(0,d.useEffect)((function(){E()}),[Y,L]);var E=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get(Y);case 3:t=e.sent,p(t.data.tweets),W&&W("".concat(t.data.tweets.length," ").concat(U)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),M=function(e,t){var r;p([].concat((0,s.Z)(l.slice(0,e)),[(0,a.Z)((0,a.Z)({},l[e]),{},(r={},(0,n.Z)(r,t[0][0],t[0][1]),(0,n.Z)(r,t[1][0],t[1][1]),r))],(0,s.Z)(l.slice(e+1))))},R=function(){I(!1)};return l?l.length?(0,m.jsxs)(d.Fragment,{children:[b&&(0,m.jsx)(C.Z,{children:(0,m.jsx)(T.Z,{handleClose:R,tweetId:B}),handleClose:R,padding:"15px"}),l.map((function(e,t){var r=new Date(e["Tweets.createdAt"]);return(0,m.jsx)(d.Fragment,{children:(0,m.jsx)(f.rU,{to:"/".concat(e.username,"/status/").concat(e["Tweets.id"]),children:(0,m.jsxs)(v.aO,{hover:!0,border:z.border,tweetHov:z.tweetHov,children:[(0,m.jsx)(v.n5,{children:(0,m.jsx)(v.sJ,{src:e.avatar})}),(0,m.jsxs)("div",{style:{width:"80%"},children:[(0,m.jsxs)(v.Xb,{color:z.color,children:[(0,m.jsx)("object",{children:(0,m.jsx)(f.rU,{to:"/profile/".concat(e.username),children:(0,m.jsxs)("h3",{children:[e.firstname," ",e.lastname]})})}),(0,m.jsxs)("p",{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"18%"},children:["@",e.username]}),(0,m.jsxs)("span",{children:[r.toLocaleString("default",{month:"short"})," ",r.getDate()," ",(new Date).getFullYear()!==r.getFullYear()&&r.getFullYear()]})]}),(0,m.jsx)("div",{style:{color:z.color,wordBreak:"break-word"},children:e["Tweets.text"]}),e["Tweets.media"]&&(0,Z.O)(e["Tweets.media"])&&(0,m.jsx)("img",{src:e["Tweets.media"],style:{width:"100%"}}),e["Tweets.media"]&&(0,Z.W)(e["Tweets.media"])&&(0,m.jsx)("video",{src:e["Tweets.media"],style:{width:"100%"},controls:!0}),(0,m.jsxs)(v.Xb,{style:{justifyContent:"space-between"},children:[(0,m.jsx)(y,{tweets:l,tweet:e,idx:t,myId:A,getData:E,onClick:function(t){t.preventDefault(),F(e["Tweets.id"]),I(!0)}}),(0,m.jsx)(j,{tweets:l,tweet:e,idx:t,updateDetails:M,myId:A,getData:E})]})]})]})},e["Tweets.id"])})}))]}):(0,m.jsx)(v.um,{children:_?"You are all caught up!":"@".concat(H," has no ").concat(O," yet!")}):(0,m.jsx)(k.Z,{})}},2982:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(907);var a=r(181);function s(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=534.1c420862.chunk.js.map