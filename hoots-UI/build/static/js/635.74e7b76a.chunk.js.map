{"version":3,"file":"static/js/635.74e7b76a.chunk.js","mappings":"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","sources":["components/styles/loading.js","components/loading.js","components/styles/sidebar.js","components/sidebar/index.js"],"sourcesContent":["import styled, { keyframes } from \"styled-components\";\r\n\r\nconst spin = keyframes`\r\n    0% { transform: rotate(0deg); }\r\n    100% { transform: rotate(360deg); }\r\n`;\r\n\r\nexport const LoadingIcon = styled.div`\r\n  text-align: center;\r\n  padding-top: 5%;\r\n  padding-bottom: 5%;\r\n  svg {\r\n    width: 26px;\r\n    height: 26px;\r\n    animation: ${spin} 2s linear infinite;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { LoadingIcon } from \"./styles/loading\";\r\n\r\nconst Loading = () => {\r\n  const theme = useSelector((state) => state.theme);\r\n  return (\r\n    <LoadingIcon>\r\n      <svg viewBox=\"0 0 32 32\">\r\n        <circle\r\n          cx=\"16\"\r\n          cy=\"16\"\r\n          fill=\"none\"\r\n          r=\"14\"\r\n          strokeWidth=\"4\"\r\n          style={{ stroke: theme.defaultBg, opacity: \"0.2\" }}\r\n        ></circle>\r\n        <circle\r\n          cx=\"16\"\r\n          cy=\"16\"\r\n          fill=\"none\"\r\n          r=\"14\"\r\n          strokeWidth=\"4\"\r\n          style={{\r\n            stroke: theme.defaultBg,\r\n            strokeDasharray: 80,\r\n            strokeDashoffset: 60,\r\n          }}\r\n        ></circle>\r\n      </svg>\r\n    </LoadingIcon>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import styled from \"styled-components\";\r\n\r\nexport const SideBarBox = styled.div`\r\n  position: sticky;\r\n  top: 5%;\r\n  background: ${(props) => props.tweetHov};\r\n  width: 70%;\r\n  margin: 10% 0 0 5%;\r\n  border-radius: 15px;\r\n  @media (max-width: 768px) {\r\n    width: 90%;\r\n  }\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  padding: 10px 15px;\r\n  border-bottom: ${(props) => `1px solid ${props.border}`};\r\n  h2 {\r\n    color: ${(props) => props.color};\r\n    font-size: 19px;\r\n    font-weight: 800;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nexport const Users = styled.div`\r\n  a:last-child div {\r\n    border: none;\r\n  }\r\n`;\r\nexport const UserFlex = styled.div`\r\n  display: flex;\r\n  padding: 10px 15px;\r\n  border-bottom: ${(props) => `1px solid ${props.border}`};\r\n  img {\r\n    width: 49px;\r\n    height: 49px;\r\n    border-radius: 50%;\r\n    margin-right: 10px;\r\n  }\r\n  h3,\r\n  p {\r\n    margin: 0;\r\n  }\r\n  h3 {\r\n    color: ${(props) => props.color};\r\n    font-size: 15px;\r\n    font-weight: 700;\r\n    line-height: 19.68px;\r\n  }\r\n  h3:hover {\r\n    text-decoration: underline;\r\n  }\r\n  p {\r\n    line-height: 19.68px;\r\n    color: rgb(101, 119, 134);\r\n  }\r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.03);\r\n  }\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  background-color: transparent;\r\n  border: 1px solid rgb(29, 161, 242);\r\n  border-radius: 50px;\r\n  padding: 5px 12px;\r\n  cursor: pointer;\r\n  outline: none;\r\n  font-weight: 700;\r\n  &:hover {\r\n    background-color: rgba(29, 161, 242, 0.1);\r\n  }\r\n  &:disabled {\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { SideBarBox, Header, Users, UserFlex, Button } from \"../styles/sidebar\";\r\nimport Loading from \"../loading\";\r\nimport { SET_UPDATE } from \"../../redux/actions\";\r\n\r\nconst URL = process.env.REACT_APP_SERVER_URL;\r\n\r\nconst SideBar = () => {\r\n  const [whoFollow, setWhoFollow] = useState(null);\r\n  const [isFollowDisabled, setFollowDisabled] = useState(false);\r\n\r\n  const user = useSelector((state) => state.profile.user);\r\n  const theme = useSelector((state) => state.theme);\r\n  const userId = user.id;\r\n  const token = user.token;\r\n  const refresh = useSelector((state) => state.update.refresh);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await axios.get(`${URL}/feed/who-follow?userId=${userId}`);\r\n        setWhoFollow(res.data.whoFollow);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    })();\r\n  }, [refresh]);\r\n\r\n  const handleFollow = async (e, idx) => {\r\n    e.preventDefault();\r\n    setFollowDisabled(true);\r\n    await axios.post(\r\n      `${URL}/follow`,\r\n      {\r\n        followedId: whoFollow[idx].id,\r\n        followerId: userId,\r\n      },\r\n    );\r\n    const res = await axios.get(`${URL}/feed/who-follow?userId=${userId}`);\r\n    setWhoFollow(res.data.whoFollow);\r\n    setFollowDisabled(false);\r\n    dispatch({ type: SET_UPDATE });\r\n  };\r\n\r\n  if (!whoFollow) return <Loading />;\r\n\r\n  return (\r\n    <SideBarBox tweetHov={theme.tweetHov}>\r\n      <Header color={theme.color} border={theme.border}>\r\n        <h2>Who to follow</h2>\r\n      </Header>\r\n      <Users>\r\n        {!whoFollow.length && (\r\n          <p style={{ textAlign: \"center\", color: theme.color }}>\r\n            No more users left to follow\r\n          </p>\r\n        )}\r\n        {whoFollow.map((user, idx) => (\r\n          <Link to={`/profile/${user.username}`} key={user.id}>\r\n            <UserFlex color={theme.color} border={theme.border}>\r\n              <img src={user.avatar} />\r\n              <div>\r\n                <h3>\r\n                  {user.firstname} {user.lastname}\r\n                </h3>\r\n                <p>@{user.username}</p>\r\n              </div>\r\n              <div style={{ marginLeft: \"auto\" }}>\r\n                <Button\r\n                  onClick={(e) => handleFollow(e, idx)}\r\n                  disabled={isFollowDisabled}\r\n                >\r\n                  Follow\r\n                </Button>\r\n              </div>\r\n            </UserFlex>\r\n          </Link>\r\n        ))}\r\n      </Users>\r\n    </SideBarBox>\r\n  );\r\n};\r\n\r\nexport default SideBar;\r\n"],"names":["spin","keyframes","_templateObject","_taggedTemplateLiteral","LoadingIcon","styled","_templateObject2","theme","useSelector","state","_jsx","children","_jsxs","viewBox","cx","cy","fill","r","strokeWidth","style","stroke","defaultBg","opacity","strokeDasharray","strokeDashoffset","SideBarBox","props","tweetHov","Header","concat","border","color","Users","_templateObject3","UserFlex","_templateObject4","Button","_templateObject5","URL","process","_useState","useState","_useState2","_slicedToArray","whoFollow","setWhoFollow","_useState3","_useState4","isFollowDisabled","setFollowDisabled","user","profile","userId","id","refresh","token","update","dispatch","useDispatch","useEffect","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","axios","sent","data","t0","console","log","stop","handleFollow","_ref2","_callee2","e","idx","_context2","preventDefault","followedId","followerId","type","SET_UPDATE","_x","_x2","apply","arguments","length","textAlign","map","Link","to","username","src","avatar","firstname","lastname","marginLeft","onClick","disabled","Loading"],"sourceRoot":""}